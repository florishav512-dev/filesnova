import{g as se,r as O,j as A,H as oe}from"./index-BqODA4Z-.js";import{J as te}from"./JsonLd-CQ6VSy7z.js";import{c as Z}from"./_commonjs-dynamic-modules-TDtrdbi3.js";import{U as Ae}from"./UploadZone-Dcn5bgy0.js";import{A as le}from"./AdSpace-CBspNFZz.js";import{T as ce}from"./ToolSeo-DcR00B-d.js";import{T as ue,S as he}from"./toolSeoData-D4OxtDbz.js";import{T as fe}from"./ToolsMenu-DgmoAlHJ.js";import{c as ge,S as de}from"./sparkles-p176mTZJ.js";import{S as me,Z as pe}from"./zap-BBhO4qyC.js";import{D as Ie}from"./download-QCpQvKoL.js";import"react-router-dom";import"./upload-CkfWjy5u.js";import"./type-CH83knKH.js";import"./image-B4Dc5wH4.js";const ve=ge("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]);var K={exports:{}};/*!

pica
https://github.com/nodeca/pica

*/var re;function be(){return re||(re=1,(function(L,V){(function(Q){L.exports=Q()})(function(){return(function(){function Q(E,H,B){function I(r,s){if(!H[r]){if(!E[r]){var e=typeof Z=="function"&&Z;if(!s&&e)return e(r,!0);if(i)return i(r,!0);var t=new Error("Cannot find module '"+r+"'");throw t.code="MODULE_NOT_FOUND",t}var f=H[r]={exports:{}};E[r][0].call(f.exports,function(o){var l=E[r][1][o];return I(l||o)},f,f.exports,Q,E,H,B)}return H[r].exports}for(var i=typeof Z=="function"&&Z,n=0;n<B.length;n++)I(B[n]);return I}return Q})()({1:[function(Q,E,H){var B=Q("multimath"),I=Q("./mm_unsharp_mask"),i=Q("./mm_resize");function n(r){var s=r||[],e={js:s.indexOf("js")>=0,wasm:s.indexOf("wasm")>=0};B.call(this,e),this.features={js:e.js,wasm:e.wasm&&this.has_wasm()},this.use(I),this.use(i)}n.prototype=Object.create(B.prototype),n.prototype.constructor=n,n.prototype.resizeAndUnsharp=function(s,e){var t=this.resize(s,e);return s.unsharpAmount&&this.unsharp_mask(t,s.toWidth,s.toHeight,s.unsharpAmount,s.unsharpRadius,s.unsharpThreshold),t},E.exports=n},{"./mm_resize":4,"./mm_unsharp_mask":9,multimath:19}],2:[function(Q,E,H){function B(e){return e<0?0:e>255?255:e}function I(e){return e>=0?e:0}function i(e,t,f,o,l,c){var h,d,p,w,y,M,j,x,C,k,_,S=0,D=0;for(C=0;C<o;C++){for(y=0,k=0;k<l;k++){for(M=c[y++],j=c[y++],x=S+M*4|0,h=d=p=w=0;j>0;j--)_=c[y++],w=w+_*e[x+3]|0,p=p+_*e[x+2]|0,d=d+_*e[x+1]|0,h=h+_*e[x]|0,x=x+4|0;t[D+3]=I(w>>7),t[D+2]=I(p>>7),t[D+1]=I(d>>7),t[D]=I(h>>7),D=D+o*4|0}D=(C+1)*4|0,S=(C+1)*f*4|0}}function n(e,t,f,o,l,c){var h,d,p,w,y,M,j,x,C,k,_,S=0,D=0;for(C=0;C<o;C++){for(y=0,k=0;k<l;k++){for(M=c[y++],j=c[y++],x=S+M*4|0,h=d=p=w=0;j>0;j--)_=c[y++],w=w+_*e[x+3]|0,p=p+_*e[x+2]|0,d=d+_*e[x+1]|0,h=h+_*e[x]|0,x=x+4|0;h>>=7,d>>=7,p>>=7,w>>=7,t[D+3]=B(w+8192>>14),t[D+2]=B(p+8192>>14),t[D+1]=B(d+8192>>14),t[D]=B(h+8192>>14),D=D+o*4|0}D=(C+1)*4|0,S=(C+1)*f*4|0}}function r(e,t,f,o,l,c){var h,d,p,w,y,M,j,x,C,k,_,S,D=0,z=0;for(k=0;k<o;k++){for(M=0,_=0;_<l;_++){for(j=c[M++],x=c[M++],C=D+j*4|0,h=d=p=w=0;x>0;x--)S=c[M++],y=e[C+3],w=w+S*y|0,p=p+S*e[C+2]*y|0,d=d+S*e[C+1]*y|0,h=h+S*e[C]*y|0,C=C+4|0;p=p/255|0,d=d/255|0,h=h/255|0,t[z+3]=I(w>>7),t[z+2]=I(p>>7),t[z+1]=I(d>>7),t[z]=I(h>>7),z=z+o*4|0}z=(k+1)*4|0,D=(k+1)*f*4|0}}function s(e,t,f,o,l,c){var h,d,p,w,y,M,j,x,C,k,_,S=0,D=0;for(C=0;C<o;C++){for(y=0,k=0;k<l;k++){for(M=c[y++],j=c[y++],x=S+M*4|0,h=d=p=w=0;j>0;j--)_=c[y++],w=w+_*e[x+3]|0,p=p+_*e[x+2]|0,d=d+_*e[x+1]|0,h=h+_*e[x]|0,x=x+4|0;h>>=7,d>>=7,p>>=7,w>>=7,w=B(w+8192>>14),w>0&&(h=h*255/w|0,d=d*255/w|0,p=p*255/w|0),t[D+3]=w,t[D+2]=B(p+8192>>14),t[D+1]=B(d+8192>>14),t[D]=B(h+8192>>14),D=D+o*4|0}D=(C+1)*4|0,S=(C+1)*f*4|0}}E.exports={convolveHor:i,convolveVert:n,convolveHorWithPre:r,convolveVertWithPre:s}},{}],3:[function(Q,E,H){E.exports="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"},{}],4:[function(Q,E,H){E.exports={name:"resize",fn:Q("./resize"),wasm_fn:Q("./resize_wasm"),wasm_src:Q("./convolve_wasm_base64")}},{"./convolve_wasm_base64":3,"./resize":5,"./resize_wasm":8}],5:[function(Q,E,H){var B=Q("./resize_filter_gen"),I=Q("./convolve"),i=I.convolveHor,n=I.convolveVert,r=I.convolveHorWithPre,s=I.convolveVertWithPre;function e(f,o,l){for(var c=3,h=o*l*4|0;c<h;){if(f[c]!==255)return!0;c=c+4|0}return!1}function t(f,o,l){for(var c=3,h=o*l*4|0;c<h;)f[c]=255,c=c+4|0}E.exports=function(o){var l=o.src,c=o.width,h=o.height,d=o.toWidth,p=o.toHeight,w=o.scaleX||o.toWidth/o.width,y=o.scaleY||o.toHeight/o.height,M=o.offsetX||0,j=o.offsetY||0,x=o.dest||new Uint8Array(d*p*4),C=typeof o.filter>"u"?"mks2013":o.filter,k=B(C,c,d,w,M),_=B(C,h,p,y,j),S=new Uint16Array(d*h*4);return e(l,c,h)?(r(l,S,c,h,d,k),s(S,x,h,d,p,_)):(i(l,S,c,h,d,k),n(S,x,h,d,p,_),t(x,d,p)),x}},{"./convolve":2,"./resize_filter_gen":6}],6:[function(Q,E,H){var B=Q("./resize_filter_info"),I=14;function i(n){return Math.round(n*((1<<I)-1))}E.exports=function(r,s,e,t,f){var o=B.filter[r].fn,l=1/t,c=Math.min(1,t),h=B.filter[r].win/c,d,p,w,y,M,j,x,C,k,_,S,D,z,G,a,g,u,v=Math.floor((h+1)*2),m=new Int16Array((v+2)*e),R=0,N=!m.subarray||!m.set;for(d=0;d<e;d++){for(p=(d+.5)*l+f,w=Math.max(0,Math.floor(p-h)),y=Math.min(s-1,Math.ceil(p+h)),M=y-w+1,j=new Float32Array(M),x=new Int16Array(M),C=0,k=w,_=0;k<=y;k++,_++)S=o((k+.5-p)*c),C+=S,j[_]=S;for(D=0,_=0;_<j.length;_++)z=j[_]/C,D+=z,x[_]=i(z);for(x[e>>1]+=i(1-D),G=0;G<x.length&&x[G]===0;)G++;if(G<x.length){for(a=x.length-1;a>0&&x[a]===0;)a--;if(g=w+G,u=a-G+1,m[R++]=g,m[R++]=u,!N)m.set(x.subarray(G,a+1),R),R+=u;else for(_=G;_<=a;_++)m[R++]=x[_]}else m[R++]=0,m[R++]=0}return m}},{"./resize_filter_info":7}],7:[function(Q,E,H){var B={box:{win:.5,fn:function(i){return i<0&&(i=-i),i<.5?1:0}},hamming:{win:1,fn:function(i){if(i<0&&(i=-i),i>=1)return 0;if(i<11920929e-14)return 1;var n=i*Math.PI;return Math.sin(n)/n*(.54+.46*Math.cos(n/1))}},lanczos2:{win:2,fn:function(i){if(i<0&&(i=-i),i>=2)return 0;if(i<11920929e-14)return 1;var n=i*Math.PI;return Math.sin(n)/n*Math.sin(n/2)/(n/2)}},lanczos3:{win:3,fn:function(i){if(i<0&&(i=-i),i>=3)return 0;if(i<11920929e-14)return 1;var n=i*Math.PI;return Math.sin(n)/n*Math.sin(n/3)/(n/3)}},mks2013:{win:2.5,fn:function(i){return i<0&&(i=-i),i>=2.5?0:i>=1.5?-.125*(i-2.5)*(i-2.5):i>=.5?.25*(4*i*i-11*i+7):1.0625-1.75*i*i}}};E.exports={filter:B,f2q:{box:0,hamming:1,lanczos2:2,lanczos3:3},q2f:["box","hamming","lanczos2","lanczos3"]}},{}],8:[function(Q,E,H){var B=Q("./resize_filter_gen");function I(e,t,f){for(var o=3,l=t*f*4|0;o<l;){if(e[o]!==255)return!0;o=o+4|0}return!1}function i(e,t,f){for(var o=3,l=t*f*4|0;o<l;)e[o]=255,o=o+4|0}function n(e){return new Uint8Array(e.buffer,0,e.byteLength)}var r=!0;try{r=new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]===1}catch{}function s(e,t,f){if(r){t.set(n(e),f);return}for(var o=f,l=0;l<e.length;l++){var c=e[l];t[o++]=c&255,t[o++]=c>>8&255}}E.exports=function(t){var f=t.src,o=t.width,l=t.height,c=t.toWidth,h=t.toHeight,d=t.scaleX||t.toWidth/t.width,p=t.scaleY||t.toHeight/t.height,w=t.offsetX||0,y=t.offsetY||0,M=t.dest||new Uint8Array(c*h*4),j=typeof t.filter>"u"?"mks2013":t.filter,x=B(j,o,c,d,w),C=B(j,l,h,p,y),k=0,_=Math.max(f.byteLength,M.byteLength),S=this.__align(k+_),D=l*c*4*2,z=this.__align(S+D),G=this.__align(z+x.byteLength),a=G+C.byteLength,g=this.__instance("resize",a),u=new Uint8Array(this.__memory.buffer),v=new Uint32Array(this.__memory.buffer),m=new Uint32Array(f.buffer);v.set(m),s(x,u,z),s(C,u,G);var R=g.exports.convolveHV||g.exports._convolveHV;I(f,o,l)?R(z,G,S,o,l,c,h,1):(R(z,G,S,o,l,c,h,0),i(M,c,h));var N=new Uint32Array(M.buffer);return N.set(new Uint32Array(this.__memory.buffer,0,h*c)),M}},{"./resize_filter_gen":6}],9:[function(Q,E,H){E.exports={name:"unsharp_mask",fn:Q("./unsharp_mask"),wasm_fn:Q("./unsharp_mask_wasm"),wasm_src:Q("./unsharp_mask_wasm_base64")}},{"./unsharp_mask":10,"./unsharp_mask_wasm":11,"./unsharp_mask_wasm_base64":12}],10:[function(Q,E,H){var B=Q("glur/mono16");function I(i,n,r){for(var s=n*r,e=new Uint16Array(s),t,f,o,l,c=0;c<s;c++)t=i[4*c],f=i[4*c+1],o=i[4*c+2],l=t>=f&&t>=o?t:f>=o&&f>=t?f:o,e[c]=l<<8;return e}E.exports=function(n,r,s,e,t,f){var o,l,c,h,d;if(!(e===0||t<.5)){t>2&&(t=2);var p=I(n,r,s),w=new Uint16Array(p);B(w,r,s,t);for(var y=e/100*4096+.5|0,M=f<<8,j=r*s,x=0;x<j;x++)o=p[x],h=o-w[x],Math.abs(h)>=M&&(l=o+(y*h+2048>>12),l=l>65280?65280:l,l=l<0?0:l,o=o!==0?o:1,c=(l<<12)/o|0,d=x*4,n[d]=n[d]*c+2048>>12,n[d+1]=n[d+1]*c+2048>>12,n[d+2]=n[d+2]*c+2048>>12)}}},{"glur/mono16":18}],11:[function(Q,E,H){E.exports=function(I,i,n,r,s,e){if(!(r===0||s<.5)){s>2&&(s=2);var t=i*n,f=t*4,o=t*2,l=t*2,c=Math.max(i,n)*4,h=32,d=0,p=f,w=p+o,y=w+l,M=y+l,j=M+c,x=this.__instance("unsharp_mask",f+o+l*2+c+h,{exp:Math.exp}),C=new Uint32Array(I.buffer),k=new Uint32Array(this.__memory.buffer);k.set(C);var _=x.exports.hsv_v16||x.exports._hsv_v16;_(d,p,i,n),_=x.exports.blurMono16||x.exports._blurMono16,_(p,w,y,M,j,i,n,s),_=x.exports.unsharp||x.exports._unsharp,_(d,d,p,w,i,n,r,e),C.set(new Uint32Array(this.__memory.buffer,0,t))}}},{}],12:[function(Q,E,H){E.exports="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"},{}],13:[function(Q,E,H){var B=100;function I(i,n){this.create=i,this.available=[],this.acquired={},this.lastId=1,this.timeoutId=0,this.idle=n||2e3}I.prototype.acquire=function(){var i=this,n;return this.available.length!==0?n=this.available.pop():(n=this.create(),n.id=this.lastId++,n.release=function(){return i.release(n)}),this.acquired[n.id]=n,n},I.prototype.release=function(i){var n=this;delete this.acquired[i.id],i.lastUsed=Date.now(),this.available.push(i),this.timeoutId===0&&(this.timeoutId=setTimeout(function(){return n.gc()},B))},I.prototype.gc=function(){var i=this,n=Date.now();this.available=this.available.filter(function(r){return n-r.lastUsed>i.idle?(r.destroy(),!1):!0}),this.available.length!==0?this.timeoutId=setTimeout(function(){return i.gc()},B):this.timeoutId=0},E.exports=I},{}],14:[function(Q,E,H){var B=2;E.exports=function(i,n,r,s,e,t){var f=r/i,o=s/n,l=(2*t+B+1)/e;if(l>.5)return[[r,s]];var c=Math.ceil(Math.log(Math.min(f,o))/Math.log(l));if(c<=1)return[[r,s]];for(var h=[],d=0;d<c;d++){var p=Math.round(Math.pow(Math.pow(i,c-d-1)*Math.pow(r,d+1),1/c)),w=Math.round(Math.pow(Math.pow(n,c-d-1)*Math.pow(s,d+1),1/c));h.push([p,w])}return h}},{}],15:[function(Q,E,H){var B=1e-5;function I(n){var r=Math.round(n);return Math.abs(n-r)<B?r:Math.floor(n)}function i(n){var r=Math.round(n);return Math.abs(n-r)<B?r:Math.ceil(n)}E.exports=function(r){var s=r.toWidth/r.width,e=r.toHeight/r.height,t=I(r.srcTileSize*s)-2*r.destTileBorder,f=I(r.srcTileSize*e)-2*r.destTileBorder;if(t<1||f<1)throw new Error("Internal error in pica: target tile width/height is too small.");var o,l,c,h,d,p,w=[],y;for(h=0;h<r.toHeight;h+=f)for(c=0;c<r.toWidth;c+=t)o=c-r.destTileBorder,o<0&&(o=0),d=c+t+r.destTileBorder-o,o+d>=r.toWidth&&(d=r.toWidth-o),l=h-r.destTileBorder,l<0&&(l=0),p=h+f+r.destTileBorder-l,l+p>=r.toHeight&&(p=r.toHeight-l),y={toX:o,toY:l,toWidth:d,toHeight:p,toInnerX:c,toInnerY:h,toInnerWidth:t,toInnerHeight:f,offsetX:o/s-I(o/s),offsetY:l/e-I(l/e),scaleX:s,scaleY:e,x:I(o/s),y:I(l/e),width:i(d/s),height:i(p/e)},w.push(y);return w}},{}],16:[function(Q,E,H){function B(I){return Object.prototype.toString.call(I)}E.exports.isCanvas=function(i){var n=B(i);return n==="[object HTMLCanvasElement]"||n==="[object OffscreenCanvas]"||n==="[object Canvas]"},E.exports.isImage=function(i){return B(i)==="[object HTMLImageElement]"},E.exports.isImageBitmap=function(i){return B(i)==="[object ImageBitmap]"},E.exports.limiter=function(i){var n=0,r=[];function s(){n<i&&r.length&&(n++,r.shift()())}return function(t){return new Promise(function(f,o){r.push(function(){t().then(function(l){f(l),n--,s()},function(l){o(l),n--,s()})}),s()})}},E.exports.cib_quality_name=function(i){switch(i){case 0:return"pixelated";case 1:return"low";case 2:return"medium"}return"high"},E.exports.cib_support=function(i){return Promise.resolve().then(function(){if(typeof createImageBitmap>"u")return!1;var n=i(100,100);return createImageBitmap(n,0,0,100,100,{resizeWidth:10,resizeHeight:10,resizeQuality:"high"}).then(function(r){var s=r.width===10;return r.close(),n=null,s})}).catch(function(){return!1})},E.exports.worker_offscreen_canvas_support=function(){return new Promise(function(i,n){if(typeof OffscreenCanvas>"u"){i(!1);return}function r(t){if(typeof createImageBitmap>"u"){t.postMessage(!1);return}Promise.resolve().then(function(){var f=new OffscreenCanvas(10,10),o=f.getContext("2d");return o.rect(0,0,1,1),createImageBitmap(f,0,0,1,1)}).then(function(){return t.postMessage(!0)},function(){return t.postMessage(!1)})}var s=btoa("(".concat(r.toString(),")(self);")),e=new Worker("data:text/javascript;base64,".concat(s));e.onmessage=function(t){return i(t.data)},e.onerror=n}).then(function(i){return i},function(){return!1})},E.exports.can_use_canvas=function(i){var n=!1;try{var r=i(2,1),s=r.getContext("2d"),e=s.createImageData(2,1);e.data[0]=12,e.data[1]=23,e.data[2]=34,e.data[3]=255,e.data[4]=45,e.data[5]=56,e.data[6]=67,e.data[7]=255,s.putImageData(e,0,0),e=null,e=s.getImageData(0,0,2,1),e.data[0]===12&&e.data[1]===23&&e.data[2]===34&&e.data[3]===255&&e.data[4]===45&&e.data[5]===56&&e.data[6]===67&&e.data[7]===255&&(n=!0)}catch{}return n},E.exports.cib_can_use_region=function(){return new Promise(function(i){if(typeof Image>"u"||typeof createImageBitmap>"u"){i(!1);return}var n=new Image;n.src="data:image/jpeg;base64,/9j/4QBiRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAYAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAABIAAAAAQAAAEgAAAAB/9sAQwAEAwMEAwMEBAMEBQQEBQYKBwYGBgYNCQoICg8NEBAPDQ8OERMYFBESFxIODxUcFRcZGRsbGxAUHR8dGh8YGhsa/9sAQwEEBQUGBQYMBwcMGhEPERoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoa/8IAEQgAAQACAwERAAIRAQMRAf/EABQAAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAF/P//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAQUCf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Bf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEABj8Cf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8hf//aAAwDAQACAAMAAAAQH//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8Qf//Z",n.onload=function(){createImageBitmap(n,0,0,n.width,n.height).then(function(r){r.width===n.width&&r.height===n.height?i(!0):i(!1)},function(){return i(!1)})},n.onerror=function(){return i(!1)}})}},{}],17:[function(Q,E,H){E.exports=function(){var B=Q("./mathlib"),I;onmessage=function(n){var r=n.data.opts;if(!r.src&&r.srcBitmap){var s=new OffscreenCanvas(r.width,r.height),e=s.getContext("2d");e.drawImage(r.srcBitmap,0,0),r.src=e.getImageData(0,0,r.width,r.height).data,s.width=s.height=0,s=null,r.srcBitmap.close(),r.srcBitmap=null}I||(I=new B(n.data.features));var t=I.resizeAndUnsharp(r);postMessage({data:t},[t.buffer])}}},{"./mathlib":1}],18:[function(Q,E,H){var B,I,i,n,r,s,e,t;function f(c){c<.5&&(c=.5);var h=Math.exp(.726*.726)/c,d=Math.exp(-h),p=Math.exp(-2*h),w=(1-d)*(1-d)/(1+2*h*d-p);return B=w,I=w*(h-1)*d,i=w*(h+1)*d,n=-w*p,r=2*d,s=-p,e=(B+I)/(1-r-s),t=(i+n)/(1-r-s),new Float32Array([B,I,i,n,r,s,e,t])}function o(c,h,d,p,w,y){var M,j,x,C,k,_,S,D,z,G,a,g,u,v;for(z=0;z<y;z++){for(_=z*w,S=z,D=0,M=c[_],k=M*p[6],C=k,a=p[0],g=p[1],u=p[4],v=p[5],G=0;G<w;G++)j=c[_],x=j*a+M*g+C*u+k*v,k=C,C=x,M=j,d[D]=C,D++,_++;for(_--,D--,S+=y*(w-1),M=c[_],k=M*p[7],C=k,j=M,a=p[2],g=p[3],G=w-1;G>=0;G--)x=j*a+M*g+C*u+k*v,k=C,C=x,M=j,j=c[_],h[S]=d[D]+C,_--,D--,S-=y}}function l(c,h,d,p){if(p){var w=new Uint16Array(c.length),y=new Float32Array(Math.max(h,d)),M=f(p);o(c,w,y,M,h,d),o(w,c,y,M,d,h)}}E.exports=l},{}],19:[function(Q,E,H){var B=Q("object-assign"),I=Q("./lib/base64decode"),i=Q("./lib/wa_detect"),n={js:!0,wasm:!0};function r(s){if(!(this instanceof r))return new r(s);var e=B({},n,s||{});if(this.options=e,this.__cache={},this.__init_promise=null,this.__modules=e.modules||{},this.__memory=null,this.__wasm={},this.__isLE=new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]===1,!this.options.js&&!this.options.wasm)throw new Error('mathlib: at least "js" or "wasm" should be enabled')}r.prototype.has_wasm=i,r.prototype.use=function(s){return this.__modules[s.name]=s,this.options.wasm&&this.has_wasm()&&s.wasm_fn?this[s.name]=s.wasm_fn:this[s.name]=s.fn,this},r.prototype.init=function(){if(this.__init_promise)return this.__init_promise;if(!this.options.js&&this.options.wasm&&!this.has_wasm())return Promise.reject(new Error(`mathlib: only "wasm" was enabled, but it's not supported`));var s=this;return this.__init_promise=Promise.all(Object.keys(s.__modules).map(function(e){var t=s.__modules[e];return!s.options.wasm||!s.has_wasm()||!t.wasm_fn||s.__wasm[e]?null:WebAssembly.compile(s.__base64decode(t.wasm_src)).then(function(f){s.__wasm[e]=f})})).then(function(){return s}),this.__init_promise},r.prototype.__base64decode=I,r.prototype.__reallocate=function(e){if(!this.__memory)return this.__memory=new WebAssembly.Memory({initial:Math.ceil(e/(64*1024))}),this.__memory;var t=this.__memory.buffer.byteLength;return t<e&&this.__memory.grow(Math.ceil((e-t)/(64*1024))),this.__memory},r.prototype.__instance=function(e,t,f){if(t&&this.__reallocate(t),!this.__wasm[e]){var o=this.__modules[e];this.__wasm[e]=new WebAssembly.Module(this.__base64decode(o.wasm_src))}if(!this.__cache[e]){var l={memoryBase:0,memory:this.__memory,tableBase:0,table:new WebAssembly.Table({initial:0,element:"anyfunc"})};this.__cache[e]=new WebAssembly.Instance(this.__wasm[e],{env:B(l,f||{})})}return this.__cache[e]},r.prototype.__align=function(e,t){t=t||8;var f=e%t;return e+(f?t-f:0)},E.exports=r},{"./lib/base64decode":20,"./lib/wa_detect":21,"object-assign":22}],20:[function(Q,E,H){var B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";E.exports=function(i){for(var n=i.replace(/[\r\n=]/g,""),r=n.length,s=new Uint8Array(r*3>>2),e=0,t=0,f=0;f<r;f++)f%4===0&&f&&(s[t++]=e>>16&255,s[t++]=e>>8&255,s[t++]=e&255),e=e<<6|B.indexOf(n.charAt(f));var o=r%4*6;return o===0?(s[t++]=e>>16&255,s[t++]=e>>8&255,s[t++]=e&255):o===18?(s[t++]=e>>10&255,s[t++]=e>>2&255):o===12&&(s[t++]=e>>4&255),s}},{}],21:[function(Q,E,H){var B;E.exports=function(){if(typeof B<"u"||(B=!1,typeof WebAssembly>"u"))return B;try{var i=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),n=new WebAssembly.Module(i),r=new WebAssembly.Instance(n,{});return r.exports.test(4)!==0&&(B=!0),B}catch{}return B}},{}],22:[function(Q,E,H){var B=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function n(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function r(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var f=Object.getOwnPropertyNames(e).map(function(l){return e[l]});if(f.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(l){o[l]=l}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}E.exports=r()?Object.assign:function(s,e){for(var t,f=n(s),o,l=1;l<arguments.length;l++){t=Object(arguments[l]);for(var c in t)I.call(t,c)&&(f[c]=t[c]);if(B){o=B(t);for(var h=0;h<o.length;h++)i.call(t,o[h])&&(f[o[h]]=t[o[h]])}}return f}},{}],23:[function(Q,E,H){var B=arguments[3],I=arguments[4],i=arguments[5],n=JSON.stringify;E.exports=function(r,s){for(var e,t=Object.keys(i),f=0,o=t.length;f<o;f++){var l=t[f],c=i[l].exports;if(c===r||c&&c.default===r){e=l;break}}if(!e){e=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var h={},f=0,o=t.length;f<o;f++){var l=t[f];h[l]=l}I[e]=["function(require,module,exports){"+r+"(self); }",h]}var d=Math.floor(Math.pow(16,8)*Math.random()).toString(16),p={};p[e]=e,I[d]=["function(require,module,exports){var f = require("+n(e)+");(f.default ? f.default : f)(self);}",p];var w={};y(d);function y(_){w[_]=!0;for(var S in I[_][1]){var D=I[_][1][S];w[D]||y(D)}}var M="("+B+")({"+Object.keys(w).map(function(_){return n(_)+":["+I[_][0]+","+n(I[_][1])+"]"}).join(",")+"},{},["+n(d)+"])",j=window.URL||window.webkitURL||window.mozURL||window.msURL,x=new Blob([M],{type:"text/javascript"});if(s&&s.bare)return x;var C=j.createObjectURL(x),k=new Worker(C);return k.objectURL=C,k}},{}],"/index.js":[function(Q,E,H){function B(a,g){return s(a)||r(a,g)||i(a,g)||I()}function I(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i(a,g){if(a){if(typeof a=="string")return n(a,g);var u=Object.prototype.toString.call(a).slice(8,-1);if(u==="Object"&&a.constructor&&(u=a.constructor.name),u==="Map"||u==="Set")return Array.from(a);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return n(a,g)}}function n(a,g){(g==null||g>a.length)&&(g=a.length);for(var u=0,v=new Array(g);u<g;u++)v[u]=a[u];return v}function r(a,g){var u=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(u!=null){var v=[],m=!0,R=!1,N,F;try{for(u=u.call(a);!(m=(N=u.next()).done)&&(v.push(N.value),!(g&&v.length===g));m=!0);}catch(P){R=!0,F=P}finally{try{!m&&u.return!=null&&u.return()}finally{if(R)throw F}}return v}}function s(a){if(Array.isArray(a))return a}var e=Q("object-assign"),t=Q("webworkify"),f=Q("./lib/mathlib"),o=Q("./lib/pool"),l=Q("./lib/utils"),c=Q("./lib/worker"),h=Q("./lib/stepper"),d=Q("./lib/tiler"),p=Q("./lib/mm_resize/resize_filter_info"),w={},y=!1;try{typeof navigator<"u"&&navigator.userAgent&&(y=navigator.userAgent.indexOf("Safari")>=0)}catch{}var M=1;typeof navigator<"u"&&(M=Math.min(navigator.hardwareConcurrency||1,4));var j={tile:1024,concurrency:M,features:["js","wasm","ww"],idle:2e3,createCanvas:function(g,u){var v=document.createElement("canvas");return v.width=g,v.height=u,v}},x={filter:"mks2013",unsharpAmount:0,unsharpRadius:0,unsharpThreshold:0},C=!1,k=!1,_=!1,S=!1,D=!1;function z(){return{value:t(c),destroy:function(){if(this.value.terminate(),typeof window<"u"){var g=window.URL||window.webkitURL||window.mozURL||window.msURL;g&&g.revokeObjectURL&&this.value.objectURL&&g.revokeObjectURL(this.value.objectURL)}}}}function G(a){if(!(this instanceof G))return new G(a);this.options=e({},j,a||{});var g="lk_".concat(this.options.concurrency);this.__limit=w[g]||l.limiter(this.options.concurrency),w[g]||(w[g]=this.__limit),this.features={js:!1,wasm:!1,cib:!1,ww:!1},this.__workersPool=null,this.__requested_features=[],this.__mathlib=null}G.prototype.init=function(){var a=this;if(this.__initPromise)return this.__initPromise;if(typeof ImageData<"u"&&typeof Uint8ClampedArray<"u")try{new ImageData(new Uint8ClampedArray(400),10,10),C=!0}catch{}typeof ImageBitmap<"u"&&(ImageBitmap.prototype&&ImageBitmap.prototype.close?k=!0:this.debug("ImageBitmap does not support .close(), disabled"));var g=this.options.features.slice();if(g.indexOf("all")>=0&&(g=["cib","wasm","js","ww"]),this.__requested_features=g,this.__mathlib=new f(g),g.indexOf("ww")>=0&&typeof window<"u"&&"Worker"in window)try{var u=Q("webworkify")(function(){});u.terminate(),this.features.ww=!0;var v="wp_".concat(JSON.stringify(this.options));w[v]?this.__workersPool=w[v]:(this.__workersPool=new o(z,this.options.idle),w[v]=this.__workersPool)}catch{}var m=this.__mathlib.init().then(function(P){e(a.features,P.features)}),R;k?R=l.cib_support(this.options.createCanvas).then(function(P){if(a.features.cib&&g.indexOf("cib")<0){a.debug("createImageBitmap() resize supported, but disabled by config");return}g.indexOf("cib")>=0&&(a.features.cib=P)}):R=Promise.resolve(!1),_=l.can_use_canvas(this.options.createCanvas);var N;k&&C&&g.indexOf("ww")!==-1?N=l.worker_offscreen_canvas_support():N=Promise.resolve(!1),N=N.then(function(P){S=P});var F=l.cib_can_use_region().then(function(P){D=P});return this.__initPromise=Promise.all([m,R,N,F]).then(function(){return a}),this.__initPromise},G.prototype.__invokeResize=function(a,g){var u=this;return g.__mathCache=g.__mathCache||{},Promise.resolve().then(function(){return u.features.ww?new Promise(function(v,m){var R=u.__workersPool.acquire();g.cancelToken&&g.cancelToken.catch(function(F){return m(F)}),R.value.onmessage=function(F){R.release(),F.data.err?m(F.data.err):v(F.data)};var N=[];a.src&&N.push(a.src.buffer),a.srcBitmap&&N.push(a.srcBitmap),R.value.postMessage({opts:a,features:u.__requested_features,preload:{wasm_nodule:u.__mathlib.__}},N)}):{data:u.__mathlib.resizeAndUnsharp(a,g.__mathCache)}})},G.prototype.__extractTileData=function(a,g,u,v,m){if(this.features.ww&&S&&(l.isCanvas(g)||D))return this.debug("Create tile for OffscreenCanvas"),createImageBitmap(v.srcImageBitmap||g,a.x,a.y,a.width,a.height).then(function(F){return m.srcBitmap=F,m});if(l.isCanvas(g))return v.srcCtx||(v.srcCtx=g.getContext("2d")),this.debug("Get tile pixel data"),m.src=v.srcCtx.getImageData(a.x,a.y,a.width,a.height).data,m;this.debug("Draw tile imageBitmap/image to temporary canvas");var R=this.options.createCanvas(a.width,a.height),N=R.getContext("2d");return N.globalCompositeOperation="copy",N.drawImage(v.srcImageBitmap||g,a.x,a.y,a.width,a.height,0,0,a.width,a.height),this.debug("Get tile pixel data"),m.src=N.getImageData(0,0,a.width,a.height).data,R.width=R.height=0,m},G.prototype.__landTileData=function(a,g,u){var v;if(this.debug("Convert raw rgba tile result to ImageData"),g.bitmap)return u.toCtx.drawImage(g.bitmap,a.toX,a.toY),null;if(C)v=new ImageData(new Uint8ClampedArray(g.data),a.toWidth,a.toHeight);else if(v=u.toCtx.createImageData(a.toWidth,a.toHeight),v.data.set)v.data.set(g.data);else for(var m=v.data.length-1;m>=0;m--)v.data[m]=g.data[m];return this.debug("Draw tile"),y?u.toCtx.putImageData(v,a.toX,a.toY,a.toInnerX-a.toX,a.toInnerY-a.toY,a.toInnerWidth+1e-5,a.toInnerHeight+1e-5):u.toCtx.putImageData(v,a.toX,a.toY,a.toInnerX-a.toX,a.toInnerY-a.toY,a.toInnerWidth,a.toInnerHeight),null},G.prototype.__tileAndResize=function(a,g,u){var v=this,m={srcCtx:null,srcImageBitmap:null,isImageBitmapReused:!1,toCtx:null},R=function(F){return v.__limit(function(){if(u.canceled)return u.cancelToken;var P={width:F.width,height:F.height,toWidth:F.toWidth,toHeight:F.toHeight,scaleX:F.scaleX,scaleY:F.scaleY,offsetX:F.offsetX,offsetY:F.offsetY,filter:u.filter,unsharpAmount:u.unsharpAmount,unsharpRadius:u.unsharpRadius,unsharpThreshold:u.unsharpThreshold};return v.debug("Invoke resize math"),Promise.resolve(P).then(function(b){return v.__extractTileData(F,a,u,m,b)}).then(function(b){return v.debug("Invoke resize math"),v.__invokeResize(b,u)}).then(function(b){return u.canceled?u.cancelToken:(m.srcImageData=null,v.__landTileData(F,b,m))})})};return Promise.resolve().then(function(){if(m.toCtx=g.getContext("2d"),l.isCanvas(a))return null;if(l.isImageBitmap(a))return m.srcImageBitmap=a,m.isImageBitmapReused=!0,null;if(l.isImage(a))return k?(v.debug("Decode image via createImageBitmap"),createImageBitmap(a).then(function(N){m.srcImageBitmap=N}).catch(function(N){return null})):null;throw new Error('Pica: ".from" should be Image, Canvas or ImageBitmap')}).then(function(){if(u.canceled)return u.cancelToken;v.debug("Calculate tiles");var N=d({width:u.width,height:u.height,srcTileSize:v.options.tile,toWidth:u.toWidth,toHeight:u.toHeight,destTileBorder:u.__destTileBorder}),F=N.map(function(b){return R(b)});function P(b){b.srcImageBitmap&&(b.isImageBitmapReused||b.srcImageBitmap.close(),b.srcImageBitmap=null)}return v.debug("Process tiles"),Promise.all(F).then(function(){return v.debug("Finished!"),P(m),g},function(b){throw P(m),b})})},G.prototype.__processStages=function(a,g,u,v){var m=this;if(v.canceled)return v.cancelToken;var R=a.shift(),N=B(R,2),F=N[0],P=N[1],b=a.length===0,U;b||p.q2f.indexOf(v.filter)<0?U=v.filter:v.filter==="box"?U="box":U="hamming",v=e({},v,{toWidth:F,toHeight:P,filter:U});var W;return b||(W=this.options.createCanvas(F,P)),this.__tileAndResize(g,b?u:W,v).then(function(){return b?u:(v.width=F,v.height=P,m.__processStages(a,W,u,v))}).then(function(T){return W&&(W.width=W.height=0),T})},G.prototype.__resizeViaCreateImageBitmap=function(a,g,u){var v=this,m=g.getContext("2d");return this.debug("Resize via createImageBitmap()"),createImageBitmap(a,{resizeWidth:u.toWidth,resizeHeight:u.toHeight,resizeQuality:l.cib_quality_name(p.f2q[u.filter])}).then(function(R){if(u.canceled)return u.cancelToken;if(!u.unsharpAmount)return m.drawImage(R,0,0),R.close(),m=null,v.debug("Finished!"),g;v.debug("Unsharp result");var N=v.options.createCanvas(u.toWidth,u.toHeight),F=N.getContext("2d");F.drawImage(R,0,0),R.close();var P=F.getImageData(0,0,u.toWidth,u.toHeight);return v.__mathlib.unsharp_mask(P.data,u.toWidth,u.toHeight,u.unsharpAmount,u.unsharpRadius,u.unsharpThreshold),m.putImageData(P,0,0),N.width=N.height=0,P=F=N=m=null,v.debug("Finished!"),g})},G.prototype.resize=function(a,g,u){var v=this;this.debug("Start resize...");var m=e({},x);if(isNaN(u)?u&&(m=e(m,u)):m=e(m,{quality:u}),m.toWidth=g.width,m.toHeight=g.height,m.width=a.naturalWidth||a.width,m.height=a.naturalHeight||a.height,Object.prototype.hasOwnProperty.call(m,"quality")){if(m.quality<0||m.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(m.quality));m.filter=p.q2f[m.quality]}if(g.width===0||g.height===0)return Promise.reject(new Error("Invalid output size: ".concat(g.width,"x").concat(g.height)));m.unsharpRadius>2&&(m.unsharpRadius=2),m.canceled=!1,m.cancelToken&&(m.cancelToken=m.cancelToken.then(function(N){throw m.canceled=!0,N},function(N){throw m.canceled=!0,N}));var R=3;return m.__destTileBorder=Math.ceil(Math.max(R,2.5*m.unsharpRadius|0)),this.init().then(function(){if(m.canceled)return m.cancelToken;if(v.features.cib){if(p.q2f.indexOf(m.filter)>=0)return v.__resizeViaCreateImageBitmap(a,g,m);v.debug("cib is enabled, but not supports provided filter, fallback to manual math")}if(!_){var N=new Error("Pica: cannot use getImageData on canvas, make sure fingerprinting protection isn't enabled");throw N.code="ERR_GET_IMAGE_DATA",N}var F=h(m.width,m.height,m.toWidth,m.toHeight,v.options.tile,m.__destTileBorder);return v.__processStages(F,a,g,m)})},G.prototype.resizeBuffer=function(a){var g=this,u=e({},x,a);if(Object.prototype.hasOwnProperty.call(u,"quality")){if(u.quality<0||u.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(u.quality));u.filter=p.q2f[u.quality]}return this.init().then(function(){return g.__mathlib.resizeAndUnsharp(u)})},G.prototype.toBlob=function(a,g,u){return g=g||"image/png",new Promise(function(v){if(a.toBlob){a.toBlob(function(P){return v(P)},g,u);return}if(a.convertToBlob){v(a.convertToBlob({type:g,quality:u}));return}for(var m=atob(a.toDataURL(g,u).split(",")[1]),R=m.length,N=new Uint8Array(R),F=0;F<R;F++)N[F]=m.charCodeAt(F);v(new Blob([N],{type:g}))})},G.prototype.debug=function(){},E.exports=G},{"./lib/mathlib":1,"./lib/mm_resize/resize_filter_info":7,"./lib/pool":13,"./lib/stepper":14,"./lib/tiler":15,"./lib/utils":16,"./lib/worker":17,"object-assign":22,webworkify:23}]},{},[])("/index.js")})})(K)),K.exports}var we=be();const xe=se(we),He=()=>{const[L,V]=O.useState(null),[Q,E]=O.useState(null),[H,B]=O.useState(!1),[I,i]=O.useState(null),n=O.useRef(null),[r,s]=O.useState(0),[e,t]=O.useState(0),[f,o]=O.useState(300),[l,c]=O.useState(300),[h,d]=O.useState("px"),[p,w]=O.useState("fit"),[y,M]=O.useState(!0),[j,x]=O.useState("png"),[C,k]=O.useState(90),[_,S]=O.useState("#ffffff"),[D,z]=O.useState(!1),[G,a]=O.useState("custom"),g=ue["/tools/image-resizer"];O.useEffect(()=>{try{const b=localStorage.getItem("fn_image_resizer_settings");if(b){const U=JSON.parse(b);U.unit&&d(U.unit),U.fitMode&&w(U.fitMode),typeof U.keepAspect=="boolean"&&M(U.keepAspect),U.format&&x(U.format),typeof U.quality=="number"&&k(U.quality),typeof U.bgColor=="string"&&S(U.bgColor)}}catch{}},[]),O.useEffect(()=>{try{localStorage.setItem("fn_image_resizer_settings",JSON.stringify({unit:h,fitMode:p,keepAspect:y,format:j,quality:C,bgColor:_}))}catch{}},[h,p,y,j,C,_]),O.useEffect(()=>{if(!L)return;const b=new Image;n.current=b,b.onload=()=>{if(s(b.naturalWidth),t(b.naturalHeight),h==="%")o(100),c(100);else{const U=Math.min(b.naturalWidth,1920),W=b.naturalWidth?U/b.naturalWidth:1;o(U),c(Math.round(b.naturalHeight*W))}E(null),a("custom")},b.onerror=()=>{i("Could not load the image.")},b.decoding="async",b.fetchPriority="low",b.src=L},[L,h]),O.useEffect(()=>{if(!(!y||!r||!e))if(h==="%")c(f);else{const b=e/r;c(Math.max(1,Math.round(f*b)))}},[f,y,h,r,e]);const u=b=>{const U=b[0];if(!U)return;const W=URL.createObjectURL(U);V(W),E(null),i(null)},v=O.useMemo(()=>({"1080p":{w:1920,h:1080,label:"HD 1080p"},"720p":{w:1280,h:720,label:"HD 720p"},instaSquare:{w:1080,h:1080,label:"Instagram Square"},instaStory:{w:1080,h:1920,label:"Instagram Story"},ytThumb:{w:1280,h:720,label:"YouTube Thumb"},fbCover:{w:820,h:312,label:"Facebook Cover"},twHeader:{w:1500,h:500,label:"X/Twitter Header"},smallThumb:{w:320,h:240,label:"Small Thumb"}}),[]),m=b=>{a(b);const U=v[b];if(U){if(h==="%"){if(!r||!e)return;o(Math.round(U.w/r*100)),c(Math.round(U.h/e*100))}else o(U.w),c(U.h);M(!1)}},R=()=>{const b=r||f||1,U=e||l||1,W=h==="px"?f:Math.max(1,Math.round(b*f/100)),T=h==="px"?l:Math.max(1,Math.round(U*l/100));if(p==="fit"&&r&&e){const Y=Math.min(W/r,T/e);return{w:Math.max(1,Math.round(r*Y)),h:Math.max(1,Math.round(e*Y))}}return{w:Math.max(1,W),h:Math.max(1,T)}},N=b=>{try{const U=b.getContext("2d");if(!U)return!1;const{width:W,height:T}=b,Y=U.getImageData(0,0,Math.min(64,W),Math.min(64,T)).data;for(let q=3;q<Y.length;q+=4)if(Y[q]<255)return!0;return!1}catch{return!1}},F=async()=>{try{if(!L)return;B(!0),i(null),E(null);const b=new Image;b.decoding="async",b.fetchPriority="high",b.src=L,await b.decode();const U=document.createElement("canvas");U.width=b.naturalWidth||b.width,U.height=b.naturalHeight||b.height;const W=U.getContext("2d");if(!W)throw new Error("Canvas not supported");W.drawImage(b,0,0);const{w:T,h:Y}=R(),q=document.createElement("canvas");q.width=T,q.height=Y,await xe().resize(U,q,{quality:3,alpha:!0,transferable:!0});let $=q;if((j==="jpeg"||j==="webp")&&N(q)){const J=document.createElement("canvas");J.width=T,J.height=Y;const X=J.getContext("2d");if(!X)throw new Error("Canvas not supported");X.fillStyle=_||"#ffffff",X.fillRect(0,0,T,Y),X.drawImage(q,0,0),$=J}const ae=j==="png"?"image/png":j==="jpeg"?"image/jpeg":"image/webp",ie=j==="png"?void 0:Math.min(1,Math.max(.1,C/100)),ee=await new Promise(J=>$.toBlob(J,ae,ie));if(!ee)throw new Error("Failed to export image");const ne=URL.createObjectURL(ee);E(ne)}catch(b){console.error(b),i(b?.message||"Resize failed. Please try again.")}finally{B(!1)}},P=O.useMemo(()=>`resized.${j==="png"?"png":j==="jpeg"?"jpg":"webp"}`,[j]);return A.jsxs(A.Fragment,{children:[A.jsx(ce,{...g}),A.jsxs(oe,{children:[A.jsx("title",{children:"Image Resizer – Resize Images Online (PNG/JPG/WEBP) | FilesNova"}),A.jsx("meta",{name:"description",content:"Resize images by pixels or percentage, keep aspect ratio, choose PNG/JPG/WEBP, and set quality. Fast, free, secure—right in your browser."}),A.jsx("link",{rel:"canonical",href:"https://filesnova.com/tools/image-resizer"})]}),A.jsx(te,{data:{"@context":"https://schema.org","@type":"WebApplication",name:"Image Resizer – Files Nova",url:"https://filesnova.com/tools/image-resizer",applicationCategory:"FileConverter",operatingSystem:"Web",offers:{"@type":"Offer",price:"0",priceCurrency:"USD"}}}),A.jsx(te,{data:{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Home",item:"https://filesnova.com/"},{"@type":"ListItem",position:2,name:"Image Resizer",item:"https://filesnova.com/tools/image-resizer"}]}}),A.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 relative overflow-hidden pt-24",children:[A.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[A.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-600/20 rounded-full blur-3xl animate-pulse"}),A.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-pink-400/20 to-orange-600/20 rounded-full blur-3xl animate-pulse delay-1000"}),A.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-br from-green-400/10 to-blue-600/10 rounded-full blur-3xl animate-pulse delay-500"})]}),A.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white/80 backdrop-blur-xl shadow-lg border-b border-white/20",children:A.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:A.jsxs("div",{className:"flex items-center h-20 gap-4",children:[A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 rounded-2xl flex items-center justify-center shadow-xl",children:A.jsx(de,{className:"w-7 h-7 text-white animate-pulse"})}),A.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full animate-bounce"})]}),A.jsxs("div",{children:[A.jsx("h1",{className:"text-2xl font-black bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Files Nova"}),A.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Image Resizer"})]}),A.jsx("div",{className:"ml-auto",children:A.jsx(fe,{})})]})})}),A.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-4 py-10",children:[A.jsxs("div",{className:"relative bg-gradient-to-br from-blue-50 to-indigo-100 rounded-3xl p-8 mb-8 overflow-hidden",children:[A.jsx("div",{className:"absolute inset-0 bg-white/40 backdrop-blur-sm"}),A.jsxs("div",{className:"relative z-10",children:[A.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 via-blue-600 to-indigo-700 rounded-2xl flex items-center justify-center mb-6 shadow-xl",children:A.jsx(ve,{className:"w-8 h-8 text-white"})}),A.jsx("h2",{className:"text-3xl font-black text-gray-900 mb-2",children:"Image Resizer"}),A.jsx("p",{className:"text-gray-700 text-lg leading-relaxed",children:"Resize your images to any dimensions and download the result."}),A.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[A.jsxs("div",{className:"flex items-center bg-white/60 backdrop-blur-sm px-4 py-2 rounded-xl shadow-sm",children:[A.jsx(me,{className:"w-4 h-4 mr-2 text-green-600"}),A.jsx("span",{className:"text-sm font-medium",children:"100% Secure"})]}),A.jsxs("div",{className:"flex items-center bg-white/60 backdrop-blur-sm px-4 py-2 rounded-xl shadow-sm",children:[A.jsx(pe,{className:"w-4 h-4 mr-2 text-yellow-600"}),A.jsx("span",{className:"text-sm font-medium",children:"Lightning Fast"})]}),A.jsxs("div",{className:"flex items-center bg-white/60 backdrop-blur-sm px-4 py-2 rounded-xl shadow-sm",children:[A.jsx(he,{className:"w-4 h-4 mr-2 text-purple-600"}),A.jsx("span",{className:"text-sm font-medium",children:"Premium Quality"})]})]})]})]}),A.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 p-8 mb-8",children:[A.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"1. Upload Image & Set Size"}),A.jsx(Ae,{accept:"image/*",multiple:!1,title:"Drop your image here",buttonLabel:"Choose Image",supportedFormats:"Image files",onFilesSelected:u}),A.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mt-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Units"}),A.jsxs("select",{value:h,onChange:b=>d(b.target.value),className:"w-full p-2 border border-gray-300 rounded-lg bg-white",children:[A.jsx("option",{value:"px",children:"Pixels (px)"}),A.jsx("option",{value:"%",children:"Percent (%)"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fit Mode"}),A.jsxs("select",{value:p,onChange:b=>w(b.target.value),className:"w-full p-2 border border-gray-300 rounded-lg bg-white",children:[A.jsx("option",{value:"fit",children:"Fit within (keep ratio)"}),A.jsx("option",{value:"exact",children:"Exact (stretch)"})]})]})]}),A.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[A.jsxs("div",{className:"flex-1",children:[A.jsxs("label",{htmlFor:"resize-width",className:"block text-sm font-medium text-gray-700 mb-1",children:["Width (",h,")"]}),A.jsx("input",{id:"resize-width",type:"number",value:f,onChange:b=>o(Math.max(1,parseInt(b.target.value||"1"))),className:"w-full p-2 border border-gray-300 rounded-lg",min:1})]}),A.jsxs("div",{className:"flex-1",children:[A.jsxs("label",{htmlFor:"resize-height",className:"block text-sm font-medium text-gray-700 mb-1",children:["Height (",h,")"]}),A.jsx("input",{id:"resize-height",type:"number",value:l,onChange:b=>c(Math.max(1,parseInt(b.target.value||"1"))),className:"w-full p-2 border border-gray-300 rounded-lg",min:1,disabled:y&&h==="px"})]})]}),A.jsxs("div",{className:"mt-3 flex flex-col sm:flex-row sm:items-center gap-3",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("input",{id:"keep-aspect",type:"checkbox",className:"h-4 w-4",checked:y,onChange:b=>M(b.target.checked)}),A.jsx("label",{htmlFor:"keep-aspect",className:"text-sm text-gray-800",children:"Keep aspect ratio"})]}),A.jsxs("div",{className:"sm:ml-auto flex items-center gap-2 w-full sm:w-auto",children:[A.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Preset"}),A.jsxs("select",{value:G,onChange:b=>m(b.target.value),className:"p-2 border border-gray-300 rounded-lg bg-white w-full sm:w-56 max-w-full",children:[A.jsx("option",{value:"custom",children:"Custom"}),A.jsx("option",{value:"1080p",children:"HD 1080p (1920×1080)"}),A.jsx("option",{value:"720p",children:"HD 720p (1280×720)"}),A.jsx("option",{value:"instaSquare",children:"Instagram Square (1080×1080)"}),A.jsx("option",{value:"instaStory",children:"Instagram Story (1080×1920)"}),A.jsx("option",{value:"ytThumb",children:"YouTube Thumb (1280×720)"}),A.jsx("option",{value:"fbCover",children:"Facebook Cover (820×312)"}),A.jsx("option",{value:"twHeader",children:"X/Twitter Header (1500×500)"}),A.jsx("option",{value:"smallThumb",children:"Small Thumb (320×240)"})]})]})]}),A.jsxs("div",{className:"mt-6 bg-white/60 backdrop-blur-sm border border-white/40 rounded-2xl p-4",children:[A.jsxs("button",{type:"button",className:"w-full text-left font-semibold text-gray-800",onClick:()=>z(b=>!b),children:[D?"Hide":"Show"," Advanced Options"]}),D&&A.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Output Format"}),A.jsxs("select",{className:"w-full p-2 rounded-lg border border-gray-300 bg-white",value:j,onChange:b=>x(b.target.value),children:[A.jsx("option",{value:"png",children:"PNG (lossless)"}),A.jsx("option",{value:"jpeg",children:"JPG (compressed)"}),A.jsx("option",{value:"webp",children:"WEBP (modern)"})]})]}),(j==="jpeg"||j==="webp")&&A.jsxs("div",{children:[A.jsxs("label",{className:"block text-sm text-gray-700 mb-1",children:["Quality: ",A.jsx("span",{className:"font-medium",children:C})]}),A.jsx("input",{type:"range",min:10,max:100,step:1,value:C,onChange:b=>k(parseInt(b.target.value)),className:"w-full"})]}),(j==="jpeg"||j==="webp")&&A.jsxs("div",{className:"md:col-span-2 flex items-center gap-3",children:[A.jsx("label",{className:"block text-sm text-gray-700",children:"Background (for transparency)"}),A.jsx("input",{type:"color",value:_,onChange:b=>S(b.target.value),className:"h-10 w-14 border rounded-lg",title:"Used when flattening transparent PNGs to JPG/WEBP"})]})]})]}),A.jsx("button",{onClick:F,disabled:!L||H,className:"w-full mt-6 px-4 py-3 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white font-bold rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:H?"Resizing…":"Resize Image"}),I&&A.jsx("p",{className:"text-red-600 mt-3",children:I})]}),L&&A.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 p-8 mb-8",children:[A.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"2. Preview"}),A.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsxs("h4",{className:"font-semibold mb-2",children:["Original Image (",r,"×",e,")"]}),A.jsx("img",{src:L,alt:"Original",className:"max-w-full rounded-xl"})]}),Q&&A.jsxs("div",{children:[A.jsx("h4",{className:"font-semibold mb-2",children:"Resized Image"}),A.jsx("img",{src:Q,alt:"Resized",className:"max-w-full rounded-xl"})]})]}),Q&&A.jsx("div",{className:"mt-6",children:A.jsxs("a",{href:Q,download:P,className:"inline-flex items-center justify-center w-full px-4 py-4 bg-green-600 text-white font-bold rounded-xl hover:bg-green-700 transition-all",children:[A.jsx(Ie,{className:"w-5 h-5 mr-2"})," Download Resized Image"]})}),A.jsx(le,{})]})]})]})]})};export{He as default};
