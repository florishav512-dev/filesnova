import{r as p,j as e,H as V}from"./index-DxLEPorc.js";import{P as S}from"./PDFButton-HVj8eYLW.js";import{g as Y,S as ee}from"./toolSeoData-8J7QCB2S.js";import{T as te,S as L}from"./ToolsMenu-DqRqccUL.js";import{S as se}from"./sparkles-O6u6xuGN.js";import{S as ae,Z as re}from"./zap-4NbdaM64.js";import{F as le}from"./file-up-CVJmetfU.js";import{C as ne}from"./check-circle-C0-LVn1k.js";import{X as oe}from"./x-DqFNAngv.js";import{D as ie}from"./download-CKixXHft.js";import"./index-BXyIe9C2.js";import"./type-BUsD8zYo.js";import"./image-CjBk0eX_.js";const ve=()=>{const h=Y("/tools/split-pdf"),D=p.useRef(null),[n,O]=p.useState(null),[m,M]=p.useState(null),[i,k]=p.useState("split-all"),[C,T]=p.useState(1),[R,I]=p.useState("{base}-p{start}-{end}.pdf"),[w,A]=p.useState(""),[F,y]=p.useState([]),[E,f]=p.useState(!1),[$,b]=p.useState(0),[z,u]=p.useState(null),_=t=>{if(t===0)return"0 Bytes";const s=1024,a=["Bytes","KB","MB","GB"],c=Math.floor(Math.log(t)/Math.log(s));return`${parseFloat((t/Math.pow(s,c)).toFixed(2))} ${a[c]}`},v=async t=>{const s=await t.arrayBuffer();return S.load(s)},B=(t,s)=>{const a=t.replace(/\s+/g,"");if(!a)return[];const c=a.split(","),l=[];for(const o of c)if(o.includes("-")){const[r,x]=o.split("-").map(d=>parseInt(d,10));if(!Number.isFinite(r)||!Number.isFinite(x))throw new Error("Invalid range format.");const j=Math.min(r,x),g=Math.max(r,x);if(j<1||g>s)throw new Error(`Range out of bounds (1–${s}).`);for(let d=j;d<=g;d++)l.push(d)}else{const r=parseInt(o,10);if(!Number.isFinite(r))throw new Error("Invalid page number.");if(r<1||r>s)throw new Error(`Page out of bounds (1–${s}).`);l.push(r)}return Array.from(new Set(l)).sort((o,r)=>o-r)},G=(t,s)=>{const a=t.split(";").map(c=>c.trim()).filter(Boolean);return a.length===0?[]:a.map(c=>B(c,s))},N=()=>{F.forEach(t=>URL.revokeObjectURL(t.url)),y([])},U=async t=>{O(t),N(),u(null);try{const s=await v(t);M(s.getPageCount())}catch{M(null),u("Unable to read PDF. The file might be corrupted.")}},H=async t=>{const s=t.target.files?.[0];if(s){if(s.type!=="application/pdf")return u("Please select a PDF file.");await U(s)}},Z=async t=>{t.preventDefault();const s=t.dataTransfer.files?.[0];if(s){if(s.type!=="application/pdf")return u("Please drop a PDF file.");await U(s)}},K=(t,s,a)=>R.replace(/\{base\}/g,t).replace(/\{start\}/g,String(s)).replace(/\{end\}/g,String(a)),Q=async()=>{if(!(!n||!m)){f(!0),b(0),N();try{const t=await v(n),s=n.name.replace(/\.pdf$/i,""),a=[],c=Math.max(1,Math.floor(C||1));for(let l=1;l<=m;l+=c){const o=Math.min(m,l+c-1),r=await S.create(),x=Array.from({length:o-l+1},(P,J)=>l-1+J);(await r.copyPages(t,x)).forEach(P=>r.addPage(P));const g=await r.save(),d=new Blob([g],{type:"application/pdf"});a.push({name:K(s,l,o),url:URL.createObjectURL(d),size:d.size}),b(Math.round(o/m*100)),o%10===0&&await new Promise(P=>setTimeout(P,0))}y(a)}catch(t){console.error(t),u(t?.message||"Unexpected error while splitting.")}finally{f(!1)}}},W=async()=>{if(!(!n||!m)){f(!0),b(0),N();try{const t=B(w,m);if(t.length===0)throw new Error("Please enter a valid range.");const s=await v(n),a=await S.create(),c=t.map(x=>x-1);(await a.copyPages(s,c)).forEach(x=>a.addPage(x));const o=await a.save(),r=new Blob([o],{type:"application/pdf"});y([{name:`${n.name.replace(/\.pdf$/i,"")}-extracted.pdf`,url:URL.createObjectURL(r),size:r.size}]),b(100)}catch(t){console.error(t),u(t?.message||"Invalid range format.")}finally{f(!1)}}},X=async()=>{if(!(!n||!m)){f(!0),b(0),N();try{const t=G(w,m);if(t.length===0)throw new Error("Please enter at least one range group.");const s=await v(n),a=[],c=n.name.replace(/\.pdf$/i,"");for(let l=0;l<t.length;l++){const o=await S.create(),r=t[l].map(d=>d-1);(await o.copyPages(s,r)).forEach(d=>o.addPage(d));const j=await o.save(),g=new Blob([j],{type:"application/pdf"});a.push({name:`${c}-group-${l+1}.pdf`,url:URL.createObjectURL(g),size:g.size}),b(Math.round((l+1)/t.length*100)),l%3===2&&await new Promise(d=>setTimeout(d,0))}y(a)}catch(t){console.error(t),u(t?.message||'Invalid ranges. Example: "1-3; 5; 7-9"')}finally{f(!1)}}},q=()=>{if(u(null),!n)return u("Please upload a PDF first.");if(i==="split-all")return void Q();if(i==="extract-range")return void W();if(i==="multi-ranges")return void X()};return e.jsxs(e.Fragment,{children:[e.jsxs(V,{children:[e.jsx("title",{children:h.title}),e.jsx("meta",{name:"description",content:h.description}),e.jsx("link",{rel:"canonical",href:h.canonical}),e.jsx("meta",{property:"og:title",content:h.title}),e.jsx("meta",{property:"og:description",content:h.description}),e.jsx("meta",{property:"og:url",content:h.canonical}),e.jsx("meta",{property:"og:image",content:"https://filesnova.com/og-image.jpg"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"})]}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 relative overflow-hidden pt-24",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-600/20 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-pink-400/20 to-orange-600/20 rounded-full blur-3xl animate-pulse delay-1000"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-br from-green-400/10 to-blue-600/10 rounded-full blur-3xl animate-pulse delay-500"})]}),e.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white/80 backdrop-blur-xl shadow-lg border-b border-white/20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center h-20 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 rounded-2xl flex items-center justify-center shadow-xl",children:e.jsx(se,{className:"w-7 h-7 text-white animate-pulse"})}),e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full animate-bounce"})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Files Nova"}),e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Split PDF"})]}),e.jsx("div",{className:"ml-auto",children:e.jsx(te,{})})]})})}),e.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-4 py-10",children:[e.jsxs("div",{className:"relative bg-gradient-to-br from-blue-50 to-indigo-100 rounded-3xl p-8 mb-8 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-white/40 backdrop-blur-sm"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-indigo-500 via-indigo-600 to-blue-700 rounded-2xl flex items-center justify-center mb-6 shadow-xl",children:e.jsx(L,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-3xl font-black text-gray-900 mb-2",children:"Split PDF"}),e.jsx("p",{className:"text-gray-700 text-lg leading-relaxed",children:"Split your PDF into single pages or extract custom page ranges—fast, private, in your browser."}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[e.jsxs("div",{className:"flex items-center bg-white/60 backdrop-blur-sm px-4 py-2 rounded-xl shadow-sm",children:[e.jsx(ae,{className:"w-4 h-4 mr-2 text-green-600"}),e.jsx("span",{className:"text-sm font-medium",children:"100% Secure"})]}),e.jsxs("div",{className:"flex items-center bg-white/60 backdrop-blur-sm px-4 py-2 rounded-xl shadow-sm",children:[e.jsx(re,{className:"w-4 h-4 mr-2 text-yellow-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Lightning Fast"})]}),e.jsxs("div",{className:"flex items-center bg-white/60 backdrop-blur-sm px-4 py-2 rounded-xl shadow-sm",children:[e.jsx(ee,{className:"w-4 h-4 mr-2 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Premium Quality"})]})]})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 mb-8",children:[e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"border-3 border-dashed border-gray-300 rounded-2xl p-12 text-center hover:border-blue-500 hover:bg-blue-50/50 transition-all duration-300 cursor-pointer group",onClick:()=>D.current?.click(),onDrop:Z,onDragOver:t=>t.preventDefault(),children:[e.jsx("div",{className:"mb-6",children:e.jsx(le,{className:"w-16 h-16 mx-auto text-gray-400 group-hover:text-blue-500 group-hover:animate-bounce transition-all"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:n?"Change PDF":"Drop your PDF here"}),e.jsx("p",{className:"text-gray-600 mb-4",children:n?n.name:"or click to browse from your device"}),e.jsx("button",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white px-8 py-3 rounded-xl font-bold hover:shadow-lg transition-all transform hover:-translate-y-1",children:n?"Choose Another PDF":"Choose PDF"}),e.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"Supported format: PDF"})]}),e.jsx("input",{ref:D,type:"file",accept:"application/pdf",className:"hidden",onChange:H})]}),n&&m!==null&&e.jsxs("div",{className:"border-t border-gray-200 p-8",children:[e.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[e.jsx("button",{className:`px-4 py-2 rounded-xl font-medium ${i==="split-all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>k("split-all"),children:"Split All / Every N"}),e.jsx("button",{className:`px-4 py-2 rounded-xl font-medium ${i==="extract-range"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>k("extract-range"),children:"Extract Range"}),e.jsx("button",{className:`px-4 py-2 rounded-xl font-medium ${i==="multi-ranges"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>k("multi-ranges"),children:"Multi-Ranges"})]}),i==="split-all"&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Every N pages",e.jsx("span",{className:"ml-2 text-xs font-normal text-gray-500",children:"(1 = one page per file)"})]}),e.jsx("input",{inputMode:"numeric",pattern:"[0-9]*",value:C,onChange:t=>T(Math.max(1,parseInt(t.target.value||"1",10))),className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 outline-none"})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Name pattern"}),e.jsx("input",{value:R,onChange:t=>I(t.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"{base}-p{start}-{end}.pdf"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Use ",e.jsx("code",{children:"{base}"}),", ",e.jsx("code",{children:"{start}"}),", ",e.jsx("code",{children:"{end}"})]})]})]}),(i==="extract-range"||i==="multi-ranges")&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:i==="extract-range"?`Enter pages (1–${m}). Example: 1-3,5,7-9`:"Enter groups separated by semicolon. Example: 1-3; 4,6-7"}),e.jsx("input",{value:w,onChange:t=>A(t.target.value),placeholder:i==="extract-range"?"1-3,5,7-9":"1-3; 4,6-7",className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 outline-none"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-600 mb-4",children:[e.jsxs("span",{className:"inline-flex items-center bg-gray-100 px-3 py-1 rounded-xl",children:[e.jsx(ne,{className:"w-4 h-4 mr-1 text-green-600"}),"Pages: ",m]}),z&&e.jsxs("span",{className:"inline-flex items-center bg-red-100 px-3 py-1 rounded-xl text-red-700",children:[e.jsx(oe,{className:"w-4 h-4 mr-1"}),z]})]}),E&&e.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-bold text-blue-900",children:"Processing..."}),e.jsxs("span",{className:"text-blue-600 font-bold",children:[Math.max(0,Math.min(100,Math.round($))),"%"]})]}),e.jsx("div",{className:"w-full bg-blue-200 rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 rounded-full transition-all duration-300 ease-out",style:{width:`${Math.max(0,Math.min(100,$))}%`}})})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mt-6",children:e.jsx("button",{onClick:q,disabled:E||!n||i==="extract-range"&&w.trim().length===0||i==="multi-ranges"&&w.trim().length===0,className:"flex-1 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white py-4 rounded-xl font-bold text-lg hover:shadow-xl transition-all transform hover:-translate-y-1 disabled:opacity-50 disabled:transform-none",children:E?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin inline mr-3"}),"Working..."]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"w-5 h-5 inline mr-3"}),i==="split-all"?"Split: One File per Page / Every N":i==="extract-range"?"Extract Range":"Create PDFs"]})})}),F.length>0&&e.jsxs("div",{className:"mt-8 space-y-3",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Downloads"}),F.map(t=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx(ie,{className:"w-5 h-5 text-gray-600 shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500",children:_(t.size)})]})]}),e.jsx("a",{href:t.url,download:t.name,className:"bg-green-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-green-700 transition-colors",children:"Download"})]},t.url))]})]})]})]})]})]})};export{ve as default};
