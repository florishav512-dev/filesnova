const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BtmEAsOv.js","assets/index-BqODA4Z-.js","assets/index-yRW1SRU8.css"])))=>i.map(i=>d[i]);
import{r as o,j as e,_ as re}from"./index-BqODA4Z-.js";import{J as le}from"./jszip.min-Dt1rHn3T.js";import{U as oe}from"./UploadZone-Dcn5bgy0.js";import{T as ne}from"./ToolSeo-DcR00B-d.js";import{T as ie,S as ce}from"./toolSeoData-D4OxtDbz.js";import{T as de}from"./ToolsMenu-DgmoAlHJ.js";import{c as C,S as me}from"./sparkles-p176mTZJ.js";import{S as he,Z as pe}from"./zap-BBhO4qyC.js";import{D as ue}from"./download-QCpQvKoL.js";import"react-router-dom";import"./jszip.min-BomeYN2x.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";import"./upload-CkfWjy5u.js";import"./type-CH83knKH.js";import"./image-B4Dc5wH4.js";const xe=C("Box",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),be=C("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),fe=C("FolderTree",[["path",{d:"M13 10h7a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"10jzg2"}],["path",{d:"M13 21h7a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.88a1 1 0 0 1-.9-.55l-.44-.9a1 1 0 0 0-.9-.55H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"1b9nqm"}],["path",{d:"M3 3v2c0 1.1.9 2 2 2h3",key:"1wqwis"}],["path",{d:"M3 3v13c0 1.1.9 2 2 2h3",key:"1bqeom"}]]),Be=()=>{const[m,G]=o.useState(null),[j,v]=o.useState(!1),[K,h]=o.useState(0),[P,N]=o.useState(null),[M,g]=o.useState(null),[p,S]=o.useState(null),[B,O]=o.useState(!0),[Z,W]=o.useState(!1),[z,q]=o.useState(!0),[T,V]=o.useState(""),[L,J]=o.useState(""),{title:H,description:Q,canonical:Y,breadcrumb:X}=ie["/tools/tar-to-zip"],I=t=>{if(t===0)return"0 B";const s=1024,l=["B","KB","MB","GB"],n=Math.floor(Math.log(t)/Math.log(s));return`${(t/Math.pow(s,n)).toFixed(2)} ${l[n]}`},F=o.useMemo(()=>T.split(",").map(t=>t.trim()).filter(Boolean).map(t=>t.toLowerCase()),[T]),A=t=>{if(z&&/(^|\/)\./.test(t))return!1;if(F.length===0)return!0;const s=t.toLowerCase();return F.some(l=>s.includes(l))},$=async t=>{const s=new Uint8Array(t),l=s.byteLength,n=new TextDecoder,d=a=>n.decode(a).replace(/\0.*$/,""),u=[];let i=0,x=null,k=null;for(;i+512<=l;){const a=s.subarray(i,i+512);if(a.every(c=>c===0))break;let r=d(a.subarray(0,100));d(a.subarray(100,108));const y=d(a.subarray(124,136)).trim(),R=parseInt(y||"0",8)||0,b=a[156],se=d(a.subarray(157,257));if(d(a.subarray(257,263))==="ustar"){const c=d(a.subarray(345,500)).trim();c&&(r=`${c}/${r}`)}const w=i+512,U=w+R;if(b===76){const c=s.subarray(w,U);x=d(c)}else if(b===75){const c=s.subarray(w,U);k=d(c)}else{x&&(r=x,x=null);const c=k||se||void 0;k=null;let f="other";b===0||b===48?f="file":b===53?f="dir":b===50?f="symlink":r.endsWith("/")&&(f="dir"),f==="dir"&&!r.endsWith("/")&&(r+="/"),u.push({name:r,size:R,type:f,linkname:c||void 0,offset:w})}const ae=Math.ceil(R/512);i=w+ae*512,h(Math.min(25,Math.round(i/l*25))),await new Promise(c=>setTimeout(c,0))}return u},D=async t=>{try{const s=(m?.name||"").toLowerCase();if(!(s.endsWith(".tgz")||s.endsWith(".tar.gz")||/gzip|x-gzip/.test(m?.type||"")))return t;const n=await re(()=>import("./index-BtmEAsOv.js").then(u=>u.i),__vite__mapDeps([0,1,2])).catch(()=>null);if(!n?.ungzip)throw new Error('Compressed tar detected, but gunzip support is unavailable. Please install "pako" or upload an uncompressed .tar.');return n.ungzip(new Uint8Array(t)).buffer}catch(s){throw new Error(s?.message||"Failed to decompress .tar.gz")}},ee=async(t,s)=>{const l=new le,n=L.trim(),d=a=>Z?a.split("/").filter(Boolean).slice(1).join("/"):a,u=a=>{let r=B?a:a.split("/").pop()||a;return r=d(r),n&&(r=`${n.replace(/\/+$/,"")}/${r}`),r};let i=0;const x=s.length;for(const a of s){if(!A(a.name)){i++,h(25+Math.round(i/x*60)),await new Promise(r=>setTimeout(r,0));continue}if(a.type==="dir"){const r=u(a.name).replace(/\/?$/,"/");l.folder(r)}else if(a.type==="file"){const r=t.slice(a.offset,a.offset+a.size),y=u(a.name);l.file(y,new Blob([r]))}else if(a.type==="symlink"){const r=u(a.name.replace(/\/$/,"")),y=`SYMLINK -> ${a.linkname||""}
`;l.file(r+".symlink.txt",y)}i++,h(25+Math.round(i/x*60)),i%20===0&&await new Promise(r=>setTimeout(r,0))}return await l.generateAsync({type:"blob"})},te=async()=>{if(m){v(!0),g(null),S(null),N(null),h(0);try{const t=await m.arrayBuffer(),s=await D(t),l=await $(s);S(l),h(30)}catch(t){console.error(t),g(t?.message||"Failed to read TAR file.")}finally{v(!1)}}},E=async()=>{if(m){v(!0),g(null),N(null),h(30);try{const t=await m.arrayBuffer(),s=await D(t),l=p??await $(s),n=await ee(s,l);N(URL.createObjectURL(n)),h(100)}catch(t){console.error(t),g(t?.message||"Failed to convert TAR to ZIP.")}finally{v(!1)}}},_=o.useMemo(()=>{if(!p)return{count:0,bytes:0};const t=p.filter(s=>A(s.name));return{count:t.length,bytes:t.reduce((s,l)=>s+(l.type==="file"?l.size:0),0)}},[p,F,z]);return e.jsxs(e.Fragment,{children:[e.jsx(ne,{title:H,description:Q,canonical:Y,breadcrumb:X,showBreadcrumb:!0}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 relative overflow-hidden pt-24",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-600/20 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-pink-400/20 to-orange-600/20 rounded-full blur-3xl animate-pulse delay-1000"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-br from-green-400/10 to-blue-600/10 rounded-full blur-3xl animate-pulse delay-500"})]}),e.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white/80 backdrop-blur-xl shadow-lg border-b border-white/20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center h-20 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 rounded-2xl flex items-center justify-center shadow-xl",children:e.jsx(me,{className:"w-7 h-7 text-white animate-pulse"})}),e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full animate-bounce"})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Files Nova"}),e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"TAR to ZIP"})]}),e.jsx("div",{className:"ml-auto",children:e.jsx(de,{})})]})})}),e.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-4 py-10",children:[e.jsxs("div",{className:"relative bg-gradient-to-br from-blue-50 to-indigo-100 rounded-3xl p-8 mb-8 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-white/40 backdrop-blur-sm"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 via-blue-600 to-indigo-700 rounded-2xl flex items-center justify-center mb-6 shadow-xl",children:e.jsx(xe,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-3xl font-black text-gray-900 mb-2",children:"TAR to ZIP"}),e.jsx("p",{className:"text-gray-700 text-lg leading-relaxed",children:"Convert TAR (and .tar.gz) archives into ZIP — privately and fast, right in your browser."}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[e.jsxs("div",{className:"flex items-center bg-white/60 backdrop-blur-sm px-4 py-2 rounded-xl shadow-sm",children:[e.jsx(he,{className:"w-4 h-4 mr-2 text-green-600"}),e.jsx("span",{className:"text-sm font-medium",children:"100% Secure"})]}),e.jsxs("div",{className:"flex items-center bg-white/60 backdrop-blur-sm px-4 py-2 rounded-xl shadow-sm",children:[e.jsx(pe,{className:"w-4 h-4 mr-2 text-yellow-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Lightning Fast"})]}),e.jsxs("div",{className:"flex items-center bg-white/60 backdrop-blur-sm px-4 py-2 rounded-xl shadow-sm",children:[e.jsx(ce,{className:"w-4 h-4 mr-2 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Premium Quality"})]})]})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 p-8 mb-8",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"1. Upload TAR File"}),e.jsx(oe,{accept:".tar,.tgz,application/x-tar,application/tar,application/gzip,application/x-gzip",multiple:!1,title:"Drop your TAR or TAR.GZ file here",buttonLabel:"Choose File",supportedFormats:"TAR, TAR.GZ",onFilesSelected:t=>{const s=t[0]||null;G(s),S(null),N(null),g(null),h(0)}}),m&&e.jsxs("div",{className:"mt-6 grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{id:"keepStructure",type:"checkbox",checked:B,onChange:t=>O(t.target.checked),className:"h-4 w-4"}),e.jsxs("label",{htmlFor:"keepStructure",className:"text-sm text-gray-700 inline-flex items-center gap-2",children:[e.jsx(fe,{className:"w-4 h-4"}),"Keep folder structure"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{id:"flattenRoot",type:"checkbox",checked:Z,onChange:t=>W(t.target.checked),className:"h-4 w-4"}),e.jsx("label",{htmlFor:"flattenRoot",className:"text-sm text-gray-700",children:"Flatten top folder"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{id:"skipDot",type:"checkbox",checked:z,onChange:t=>q(t.target.checked),className:"h-4 w-4"}),e.jsx("label",{htmlFor:"skipDot",className:"text-sm text-gray-700",children:"Skip hidden “dotfiles”"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(be,{className:"w-4 h-4 text-gray-700"}),e.jsx("input",{value:T,onChange:t=>V(t.target.value),className:"flex-1 p-2 border border-gray-300 rounded-lg",placeholder:"Filter (e.g. .png,.jpg,report)",title:"Comma-separated; matches if the token appears in the path"})]}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Rename ZIP root (optional)"}),e.jsx("input",{value:L,onChange:t=>J(t.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:"e.g. my-archive"})]}),e.jsxs("div",{className:"sm:col-span-2 lg:col-span-2 flex gap-3",children:[e.jsx("button",{onClick:te,disabled:!m||j,className:"flex-1 bg-white border border-gray-300 text-gray-800 py-3 rounded-xl font-semibold hover:bg-gray-50 transition",title:"Scan archive and show manifest",children:"Analyze Archive"}),e.jsx("button",{onClick:E,disabled:!m||j,className:"flex-1 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white py-3 rounded-xl font-bold hover:shadow-lg transition disabled:opacity-50",children:"Convert to ZIP"})]})]}),j&&e.jsx("div",{className:"mt-4 w-full bg-blue-200 rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 rounded-full animate-pulse",style:{width:`${K}%`}})}),M&&e.jsx("p",{className:"text-red-600 mt-4",children:M})]}),p&&e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 p-8 mb-8",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"2. Review"}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["Found ",e.jsx("span",{className:"font-semibold",children:p.length})," items in the archive. With current filters,"," ",e.jsx("span",{className:"font-semibold",children:_.count})," will be included (",e.jsx("span",{className:"font-semibold",children:I(_.bytes)})," files)."]}),e.jsx("div",{className:"max-h-64 overflow-auto rounded-xl border border-gray-200 bg-white",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-4 py-2",children:"Path"}),e.jsx("th",{className:"text-left px-4 py-2",children:"Type"}),e.jsx("th",{className:"text-right px-4 py-2",children:"Size"})]})}),e.jsxs("tbody",{children:[p.slice(0,500).map((t,s)=>e.jsxs("tr",{className:`border-t ${A(t.name)?"bg-white":"bg-gray-50 text-gray-400"}`,children:[e.jsx("td",{className:"px-4 py-2 font-mono break-all",children:t.name}),e.jsx("td",{className:"px-4 py-2 capitalize",children:t.type}),e.jsx("td",{className:"px-4 py-2 text-right",children:t.type==="file"?I(t.size):"-"})]},s)),p.length>500&&e.jsx("tr",{className:"border-t bg-white/70",children:e.jsx("td",{className:"px-4 py-3 italic",colSpan:3,children:"Showing first 500 items…"})})]})]})}),e.jsx("button",{onClick:E,disabled:j,className:"mt-6 w-full px-4 py-4 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white font-bold rounded-xl hover:shadow-lg transition-all disabled:opacity-50",children:"Convert to ZIP"})]}),P&&e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 p-8 mb-8 text-center",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"3. Download"}),e.jsxs("a",{href:P,download:(m?.name||"archive.tar").replace(/(\.tar(\.gz)?|\.tgz)$/i,"")+".zip",className:"inline-flex items-center justify-center w-full px-4 py-4 bg-green-600 text-white font-bold rounded-xl hover:bg-green-700 transition-all",children:[e.jsx(ue,{className:"w-5 h-5 mr-2"})," Download ZIP"]})]})]})]})]})};export{Be as default};
